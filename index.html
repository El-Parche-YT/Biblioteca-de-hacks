<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dualgamer - Contenido</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f9; text-align: center; }
        /* Bloqueo de scroll inicial */
        body.locked { overflow: hidden; height: 100vh; }
        
        .container { padding: 20px; max-width: 500px; margin: auto; }
        
        /* Estilo del Cuadro del Contador */
        .counter-box {
            background: white; border: 2px solid #5d2a8e; border-radius: 15px;
            padding: 20px; margin: 20px 0; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            z-index: 1000; width: 80%; max-width: 400px;
        }
        
        .counter-box h2 { margin: 0; font-size: 1.2rem; color: #333; }
        .counter-box p { font-size: 1.5rem; font-weight: bold; color: #28a745; }

        /* Mensaje de instrucciÃ³n */
        #scroll-msg { display: none; background: #fff; padding: 15px; border: 1px solid #ddd; border-radius: 10px; margin: 20px 0; }

        /* Botones */
        .btn {
            display: inline-block; padding: 15px 30px; margin: 20px 0;
            border-radius: 8px; font-weight: bold; text-decoration: none;
            cursor: pointer; border: none; font-size: 1rem;
        }
        .btn-red { background-color: #ff0000; color: white; }
        .btn-gray { background-color: #6c757d; color: #ccc; cursor: not-allowed; }
        .btn-green { background-color: #28a745; color: white; }

        .hidden { display: none; }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999; }
    </style>
</head>
<body class="locked">

    <div class="container">
        <div id="step-1">
            <script async="async" data-cfasync="false" src="https://pl28503227.effectivegatecpm.com/ef3ee5d66850303fb9e05676f373efea/invoke.js"></script>
            <div id="container-ef3ee5d66850303fb9e05676f373efea"></div>

            <div id="overlay-bg" class="overlay"></div>
            <div id="counter-container" class="counter-box">
                <h2 id="part-title">Dualgamer - parte 1 / 8 ðŸ“„</h2>
                <p>Espere <span id="seconds">10</span>s</p>
            </div>

            <div id="container-ef3ee5d66850303fb9e05676f373efea"></div>

            <div style="height: 1200px;"></div> <div id="scroll-msg" class="counter-box" style="position: static; transform: none; margin: 20px auto;">
                <h3>Deslice hacia abajo hasta el final</h3>
            </div>

            <button id="btn-continue-1" class="btn btn-red hidden">Continuar aquÃ­</button>
        </div>

        <div id="step-2" class="hidden">
            <h3 id="val-text">Haz clic en el anuncio para desbloquear [1/2]</h3>
            
            <button id="val-btn" class="btn btn-gray" disabled>ðŸ”’ Continuar aquÃ­</button>

            <div id="ad-interact" onclick="trackClick()">
                <div id="container-ef3ee5d66850303fb9e05676f373efea"></div>
            </div>
        </div>
    </div>

    <script>
        let timeLeft = 10;
        let currentPart = 1;
        let validationStep = 1;
        let adClicked = false;

        // 1. LÃ³gica del Contador
        const timer = setInterval(() => {
            timeLeft--;
            document.getElementById('seconds').innerText = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(timer);
                unlockScroll();
            }
        }, 1000);

        function unlockScroll() {
            document.body.classList.remove('locked');
            document.getElementById('overlay-bg').classList.add('hidden');
            document.getElementById('counter-container').classList.add('hidden');
            document.getElementById('scroll-msg').style.display = 'block'; //
            document.getElementById('btn-continue-1').classList.remove('hidden'); //
        }

        // 2. Cambio al Ã¡rea de validaciÃ³n
        document.getElementById('btn-continue-1').addEventListener('click', () => {
            document.getElementById('step-1').classList.add('hidden');
            document.getElementById('step-2').classList.remove('hidden');
            window.scrollTo(0,0);
        });

        // 3. DetecciÃ³n de clic en anuncio
        function trackClick() {
            adClicked = true;
            setTimeout(() => {
                const btn = document.getElementById('val-btn');
                btn.classList.remove('btn-gray');
                btn.classList.add('btn-green');
                btn.innerHTML = "âœ… Clic para continuar"; //
                btn.disabled = false;
            }, 2000); // Simula el regreso despuÃ©s del clic
        }

        document.getElementById('val-btn').addEventListener('click', () => {
            if (validationStep === 1) {
                // Pasar a validaciÃ³n 2/2
                validationStep = 2;
                adClicked = false;
                document.getElementById('val-text').innerText = "Haz clic en el anuncio para desbloquear [2/2]";
                document.getElementById('val-btn').classList.replace('btn-green', 'btn-gray');
                document.getElementById('val-btn').innerHTML = "ðŸ”’ Continuar aquÃ­";
                document.getElementById('val-btn').disabled = true;
            } else {
                // Saltar al siguiente nivel (Parte X/8)
                nextLevel();
            }
        });

        function nextLevel() {
            if (currentPart < 8) {
                currentPart++;
                timeLeft = 10;
                validationStep = 1;
                adClicked = false;
                
                // Reiniciar interfaz
                document.getElementById('part-title').innerText = `Dualgamer - parte ${currentPart} / 8 ðŸ“„`;
                document.getElementById('step-2').classList.add('hidden');
                document.getElementById('step-1').classList.remove('hidden');
                document.getElementById('overlay-bg').classList.remove('hidden');
                document.getElementById('counter-container').classList.remove('hidden');
                document.getElementById('btn-continue-1').classList.add('hidden');
                document.body.classList.add('locked');
                
                // Reiniciar el timer
                // (AquÃ­ deberÃ­as reiniciar la lÃ³gica del setInterval)
                location.reload(); // Para fines de este ejemplo, recargar es lo mÃ¡s limpio
            } else {
                alert("Â¡Has completado todos los pasos!");
            }
        }
    </script>
</body>
</html>